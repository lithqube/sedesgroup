!function(a,b){"use strict";function c(){if(!e){e=!0;var a,c,d,f,g=-1!==navigator.appVersion.indexOf("MSIE 10"),h=!!navigator.userAgent.match(/Trident.*rv:11\./),i=b.querySelectorAll("iframe.wp-embedded-content");for(c=0;c<i.length;c++){if(d=i[c],!d.getAttribute("data-secret"))f=Math.random().toString(36).substr(2,10),d.src+="#?secret="+f,d.setAttribute("data-secret",f);if(g||h)a=d.cloneNode(!0),a.removeAttribute("security"),d.parentNode.replaceChild(a,d)}}}var d=!1,e=!1;if(b.querySelector)if(a.addEventListener)d=!0;if(a.wp=a.wp||{},!a.wp.receiveEmbedMessage)if(a.wp.receiveEmbedMessage=function(c){var d=c.data;if(d.secret||d.message||d.value)if(!/[^a-zA-Z0-9]/.test(d.secret)){var e,f,g,h,i,j=b.querySelectorAll('iframe[data-secret="'+d.secret+'"]'),k=b.querySelectorAll('blockquote[data-secret="'+d.secret+'"]');for(e=0;e<k.length;e++)k[e].style.display="none";for(e=0;e<j.length;e++)if(f=j[e],c.source===f.contentWindow){if(f.removeAttribute("style"),"height"===d.message){if(g=parseInt(d.value,10),g>1e3)g=1e3;else if(~~g<200)g=200;f.height=g}if("link"===d.message)if(h=b.createElement("a"),i=b.createElement("a"),h.href=f.getAttribute("src"),i.href=d.value,i.host===h.host)if(b.activeElement===f)a.top.location.href=d.value}else;}},d)a.addEventListener("message",a.wp.receiveEmbedMessage,!1),b.addEventListener("DOMContentLoaded",c,!1),a.addEventListener("load",c,!1)}(window,document);
;;(function($,window,document,undefined){var hasCanvas,hasPointerEvents,doHighlights=false;hasCanvas=(function(){return!!document.createElement('canvas').getContext;})();hasPointerEvents=(function(){var supports=false,a=document.createElement("x");a.style.cssText="pointer-events:auto;";if(window.PointerEvent){supports=true;}else if(a.style.pointerEvents==='auto'){supports=true;}
return supports;})();if(hasCanvas&&hasPointerEvents){doHighlights=true;}
var opts,convertHexToDecimal,convertToRgba;convertHexToDecimal=function(hex){return Math.max(0,Math.min(parseInt(hex,16),255));}
convertToRgba=function(color,opacity){color=color.replace('#','');return'rgba('+convertHexToDecimal(color.substr(0,2))+','+convertHexToDecimal(color.substr(2,2))+','+convertHexToDecimal(color.substr(4,2))+','+opacity+')';}
var drawIt,cleanUp,prepImage,drawShape,drawPoly,drawCircle,drawRect,drawOptions;drawIt=function(img,map){if(doHighlights){prepImage(img,map);linkToHotspot(img,map);cleanUp(img,map);}else{simpleMap(map);}};cleanUp=function(img,map){map.find('area').each(function(){var $this=$(this);if($this.data('stickyCanvas')&&$this.data('stickyCanvas'==true)){var id=$this.attr('id'),stickyCanvas=$('#canvas-'+id);drawShape(stickyCanvas,$this,img);}});};prepImage=function(img,map){var w=img.width(),h=img.height(),mapName=map.attr('name'),wrapped,$wrap,index=0;wrapped=jQuery('<div id="wrap-'+mapName+'"></div>');if(img.parent('#wrap-'+mapName).length<1){img.wrap(wrapped);}
$wrap=$('#wrap-'+mapName);if($wrap.parent().width()<img.get(0).naturalWidth){$wrap.css({'position':'relative','width':'auto','margin':'0 auto','line-height':0});}else{$wrap.css({'position':'relative','line-height':'0','width':w});}
map.find('area').each(function(){var $this=$(this);index++;$this.attr('id',mapName+'-area-'+index);});};drawShape=function($canvas,area,img){var canvas=$canvas.get(0),context=canvas.getContext('2d'),shape=area.attr('shape');context.clearRect(0,0,canvas.width,canvas.height);var coords=area.attr('coords').split(','),xCoords=[],yCoords=[];for(var i=0;i<coords.length;i++){if(i%2==0){xCoords.push(coords[i]);}else{yCoords.push(coords[i]);}}
if(shape=='poly'){drawPoly(context,xCoords,yCoords,img);}else if(shape=='circle'){drawCircle(context,xCoords,yCoords,img);}else if(shape=='rect'){drawRect(context,xCoords,yCoords,img);}};drawPoly=function(context,xCoords,yCoords,img){drawOptions(img);context.beginPath();context.moveTo(xCoords[0],yCoords[0]);for(var j=1;j<xCoords.length;j++){context.lineTo(xCoords[j],yCoords[j]);}
context.closePath();context.fillStyle=convertToRgba(opts.highlightColor,opts.highlightOpacity);context.fill();context.lineWidth=opts.highlightBorderWidth;context.strokeStyle=convertToRgba(opts.highlightBorderColor,opts.highlightBorderOpacity);context.stroke();};drawCircle=function(context,xCoords,yCoords){drawOptions(img);context.beginPath();context.arc(xCoords[0],yCoords[0],xCoords[1],0,Math.PI*2,true);context.fillStyle=convertToRgba(opts.highlightColor,opts.highlightOpacity);context.fill();context.lineWidth=opts.highlightBorderWidth;;context.strokeStyle=convertToRgba(opts.highlightBorderColor,opts.highlightBorderOpacity);context.stroke();}
drawRect=function(context,xCoords,yCoords){drawOptions(img);context.fillStyle=convertToRgba(opts.highlightColor,opts.highlightOpacity);context.lineWidth=opts.highlightBorderWidth;;context.strokeStyle=convertToRgba(opts.highlightBorderColor,opts.highlightBorderOpacity);context.fillRect(xCoords[0],yCoords[0],xCoords[1]-xCoords[0],yCoords[1]-yCoords[0]);context.strokeRect(xCoords[0],yCoords[0],xCoords[1]-xCoords[0],yCoords[1]-yCoords[0]);}
drawOptions=function(img){var dataOpts={};if(img.data('highlight-color')!==''){Object.defineProperty(dataOpts,'highlightColor',{value:img.data('highlight-color')});}
if(img.data('highlight-opacity')!==''){Object.defineProperty(dataOpts,'highlightOpacity',{value:img.data('highlight-opacity')});}
if(img.data('highlight-border-color')!==''){Object.defineProperty(dataOpts,'highlightBorderColor',{value:img.data('highlight-border-color')});}
if(img.data('highlight-border-width')!==''){Object.defineProperty(dataOpts,'highlightBorderWidth',{value:img.data('highlight-border-width')});}
if(img.data('highlight-border-opacity')!==''){Object.defineProperty(dataOpts,'highlightBorderOpacity',{value:img.data('highlight-border-opacity')});}
if(img.data('event-trigger')!==''){Object.defineProperty(dataOpts,'eventTrigger',{value:img.data('event-trigger')});}
opts=$.extend(dataOpts,$.fn.responsilight.defaults);}
var resizeImageMap,imageEvents,linkToHotspot,mapOver,mapOut,mapClick,resizeDelay,simpleMap,lastMapClick;resizeImageMap=function(img,map){if(typeof(img.attr('usemap'))=='undefined')
return;var image=img.get(0),$image=img;if(!$image.data('responsilight')){$image.data('responsilight','initialized');$('<img />').load(function(){recalcCoords();}).attr('src',$image.attr('src'));}else{recalcCoords();}
function recalcCoords(){var w=image.naturalWidth,h=image.naturalHeight,wPercent=$image.width()/100,hPercent=$image.height()/100,c='coords';map.find('area').each(function(index){var $this=$(this);if(!$this.data(c))
$this.data(c,$this.attr(c));var coords=$this.data(c).split(','),coordsPercent=new Array(coords.length);for(var i=0;i<coordsPercent.length;++i){if(i%2===0)
coordsPercent[i]=parseInt(((coords[i]/w)*100)*wPercent);else
coordsPercent[i]=parseInt(((coords[i]/h)*100)*hPercent);}
$this.attr(c,coordsPercent.toString());});drawIt(img,map);}};imageEvents=function(img,map){map.find('area').each(function(){var $this=$(this),action=$this.data('action'),trigger=opts.eventTrigger;$this.on('mouseover touchstart mouseout touchend click focus blur keypress',function(e){var type=e.type;e.preventDefault();switch(type){case'touchstart':mapOver($this,img,type);mapClick($this,img);break;case'touchend':break;case'mouseout':case'blur':mapOut($this,img);break;case'mouseover':case'focus':mapOver($this,img);break;case'click':case'keypress':if(trigger=='click'){mapClick($this,img);}
if(e.which===13){mapClick($this,img);}
break;}});});};linkToHotspot=function(img,map){var hash=window.location.hash;if(hash){var area=map.find('area[href="'+hash+'"]');if(area.length){var imgTop=img.offset().top,coords=area.attr('coords').split(','),yCoords=[];for(var i=0;i<coords.length;i++){if(i%2!=0){yCoords.push(coords[i]);}}
var areaImgTop=Math.min.apply(Math,yCoords),areaImgBottom=Math.max.apply(Math,yCoords),windowHeight=$(window).height(),windowBottom=imgTop+windowHeight,areaBottom=imgTop+areaImgBottom,areaTop=imgTop+areaImgTop,padding=50,scrollCoord;if(areaBottom>windowBottom){scrollCoord=imgTop+(areaBottom-windowBottom)+padding;if((areaBottom-areaTop)>windowHeight){scrollCoord=areaTop-padding;}}else{scrollCoord=imgTop-padding;}
mapOver(area,img,null);mapClick(area,img);setTimeout(function(){window.scrollTo(0,scrollCoord);},1);}}};mapOver=function(area,img,type){type=type||'';if(doHighlights){var w=img.width(),h=img.height(),shape=area.attr('shape'),id=area.attr('id'),$canvas=$('#canvas-'+id);if($canvas.length){return;}
var makeCanvas=$('<canvas id="canvas-'+id+'" width="'+w+'" height="'+h+'"></canvas>');img.parent().append(makeCanvas);makeCanvas.css({'position':'absolute','top':'0','left':'0','pointer-events':'none','display':'none'});$canvas=$('#canvas-'+id);$canvas.on('touchstart',function(e){e.preventDefault();});drawShape($canvas,area,img);$canvas.stop(true,true).fadeIn('fast');}
area.trigger('showHighlight');if(opts.eventTrigger=='hover'&&type!='touchstart'){area.data('stickyCanvas',true);area.trigger('stickyHighlight');}};mapOut=function(area,img){if(opts.eventTrigger=='hover'){area.data('stickyCanvas',false);area.trigger('unstickyHighlight');}
if(doHighlights){var id=area.attr('id'),canvas=$('#canvas-'+id);if(!area.data('stickyCanvas')){canvas.stop(true,true).fadeOut('fast',function(){canvas.remove();});}}
area.trigger('removeHighlight');};mapClick=function(area,img){now=Date.now();if(lastMapClick&&lastMapClick>(now-100)){lastMapClick=now;return;}
lastMapClick=now;if(doHighlights){var id=area.attr('id'),stickyCanvas=$('#canvas-'+id),isSticky=area.data('stickyCanvas');if(stickyCanvas.length==0){mapOver(area,img);stickyCanvas=$('#canvas-'+id);}
if(isSticky){stickyCanvas.stop(true,true).fadeOut('fast',function(){$(this).remove();});}else{area.data('stickyCanvas',true);stickyCanvas.addClass('sticky-canvas');stickyCanvas.siblings('canvas').stop(true,true).fadeOut('fast',function(){$(this).remove();});}}
if(isSticky){area.data('stickyCanvas',false);area.trigger('unstickyHighlight');area.trigger('removeHighlight');}else{area.data('stickyCanvas',true);area.trigger('stickyHighlight');area.siblings('area').data('stickyCanvas',false).trigger('removeHighlight');}};resizeDelay=(function(){var timers={};return function(callback,ms,uniqueId){if(!uniqueId){uniqueId=Math.random()*100;}
if(timers[uniqueId]){clearTimeout(timers[uniqueId]);}
timers[uniqueId]=setTimeout(callback,ms);};})();simpleMap=function(map){map.find('area').each(function(index){var $this=$(this),mapName=map.attr('name');$this.attr('id',mapName+'-area-'+index);});}
$.fn.responsilight=function(){var $img=this;function responsilight_init(){$img.each(function(){var $this=$(this),$mapName=$this.attr('usemap').replace('#',''),$map=$('map[name="'+$mapName+'"]');drawOptions($this);imageEvents($this,$map);resizeImageMap($this,$map);});}
$(window).on('resize orientationchange',function(){resizeDelay(function(){responsilight_init();},300,'responsilight');}).trigger('resize');return this;};$.fn.responsilight.defaults={highlightColor:'#000000',highlightOpacity:'0.5',highlightBorderColor:'#000000',highlightBorderWidth:1,highlightBorderOpacity:'1',eventTrigger:'click'}}(jQuery,window,document));
;/**
 * Featherlight - ultra slim jQuery lightbox
 * Version 1.3.3 - http://noelboss.github.io/featherlight/
 *
 * Copyright 2015, Noël Raoul Bossart (http://www.noelboss.com)
 * MIT Licensed.
**/
!function(a){"use strict";function b(a,c){if(!(this instanceof b)){var d=new b(a,c);return d.open(),d}this.id=b.id++,this.setup(a,c),this.chainCallbacks(b._callbackChain)}if("undefined"==typeof a)return void("console"in window&&window.console.info("Too much lightness, Featherlight needs jQuery."));var c=[],d=function(b){return c=a.grep(c,function(a){return a!==b&&a.$instance.closest("body").length>0})},e=function(a,b){var c={},d=new RegExp("^"+b+"([A-Z])(.*)");for(var e in a){var f=e.match(d);if(f){var g=(f[1]+f[2].replace(/([A-Z])/g,"-$1")).toLowerCase();c[g]=a[e]}}return c},f={keyup:"onKeyUp",resize:"onResize"},g=function(c){a.each(b.opened().reverse(),function(){return c.isDefaultPrevented()||!1!==this[f[c.type]](c)?void 0:(c.preventDefault(),c.stopPropagation(),!1)})},h=function(c){if(c!==b._globalHandlerInstalled){b._globalHandlerInstalled=c;var d=a.map(f,function(a,c){return c+"."+b.prototype.namespace}).join(" ");a(window)[c?"on":"off"](d,g)}};b.prototype={constructor:b,namespace:"featherlight",targetAttr:"data-featherlight",variant:null,resetCss:!1,background:null,openTrigger:"click",closeTrigger:"click",filter:null,root:"body",openSpeed:250,closeSpeed:250,closeOnClick:"background",closeOnEsc:!0,closeIcon:"&#10005;",loading:"",persist:!1,otherClose:null,beforeOpen:a.noop,beforeContent:a.noop,beforeClose:a.noop,afterOpen:a.noop,afterContent:a.noop,afterClose:a.noop,onKeyUp:a.noop,onResize:a.noop,type:null,contentFilters:["jquery","image","html","ajax","iframe","text"],setup:function(b,c){"object"!=typeof b||b instanceof a!=!1||c||(c=b,b=void 0);var d=a.extend(this,c,{target:b}),e=d.resetCss?d.namespace+"-reset":d.namespace,f=a(d.background||['<div class="'+e+"-loading "+e+'">','<div class="'+e+'-content">','<span class="'+e+"-close-icon "+d.namespace+'-close">',d.closeIcon,"</span>",'<div class="'+d.namespace+'-inner">'+d.loading+"</div>","</div>","</div>"].join("")),g="."+d.namespace+"-close"+(d.otherClose?","+d.otherClose:"");return d.$instance=f.clone().addClass(d.variant),d.$instance.on(d.closeTrigger+"."+d.namespace,function(b){var c=a(b.target);("background"===d.closeOnClick&&c.is("."+d.namespace)||"anywhere"===d.closeOnClick||c.closest(g).length)&&(b.preventDefault(),d.close())}),this},getContent:function(){if(this.persist!==!1&&this.$content)return this.$content;var b=this,c=this.constructor.contentFilters,d=function(a){return b.$currentTarget&&b.$currentTarget.attr(a)},e=d(b.targetAttr),f=b.target||e||"",g=c[b.type];if(!g&&f in c&&(g=c[f],f=b.target&&e),f=f||d("href")||"",!g)for(var h in c)b[h]&&(g=c[h],f=b[h]);if(!g){var i=f;if(f=null,a.each(b.contentFilters,function(){return g=c[this],g.test&&(f=g.test(i)),!f&&g.regex&&i.match&&i.match(g.regex)&&(f=i),!f}),!f)return"console"in window&&window.console.error("Featherlight: no content filter found "+(i?' for "'+i+'"':" (no target specified)")),!1}return g.process.call(b,f)},setContent:function(b){var c=this;return(b.is("iframe")||a("iframe",b).length>0)&&c.$instance.addClass(c.namespace+"-iframe"),c.$instance.removeClass(c.namespace+"-loading"),c.$instance.find("."+c.namespace+"-inner").not(b).slice(1).remove().end().replaceWith(a.contains(c.$instance[0],b[0])?"":b),c.$content=b.addClass(c.namespace+"-inner"),c},open:function(b){var d=this;if(d.$instance.hide().appendTo(d.root),!(b&&b.isDefaultPrevented()||d.beforeOpen(b)===!1)){b&&b.preventDefault();var e=d.getContent();if(e)return c.push(d),h(!0),d.$instance.fadeIn(d.openSpeed),d.beforeContent(b),a.when(e).always(function(a){d.setContent(a),d.afterContent(b)}).then(d.$instance.promise()).done(function(){d.afterOpen(b)})}return d.$instance.detach(),a.Deferred().reject().promise()},close:function(b){var c=this,e=a.Deferred();return c.beforeClose(b)===!1?e.reject():(0===d(c).length&&h(!1),c.$instance.fadeOut(c.closeSpeed,function(){c.$instance.detach(),c.afterClose(b),e.resolve()})),e.promise()},chainCallbacks:function(b){for(var c in b)this[c]=a.proxy(b[c],this,a.proxy(this[c],this))}},a.extend(b,{id:0,autoBind:"[data-featherlight]",defaults:b.prototype,contentFilters:{jquery:{regex:/^[#.]\w/,test:function(b){return b instanceof a&&b},process:function(b){return this.persist!==!1?a(b):a(b).clone(!0)}},image:{regex:/\.(png|jpg|jpeg|gif|tiff|bmp|svg)(\?\S*)?$/i,process:function(b){var c=this,d=a.Deferred(),e=new Image,f=a('<img src="'+b+'" alt="" class="'+c.namespace+'-image" />');return e.onload=function(){f.naturalWidth=e.width,f.naturalHeight=e.height,d.resolve(f)},e.onerror=function(){d.reject(f)},e.src=b,d.promise()}},html:{regex:/^\s*<[\w!][^<]*>/,process:function(b){return a(b)}},ajax:{regex:/./,process:function(b){var c=a.Deferred(),d=a("<div></div>").load(b,function(a,b){"error"!==b&&c.resolve(d.contents()),c.fail()});return c.promise()}},iframe:{process:function(b){var c=new a.Deferred,d=a("<iframe/>").hide().attr("src",b).css(e(this,"iframe")).on("load",function(){c.resolve(d.show())}).appendTo(this.$instance.find("."+this.namespace+"-content"));return c.promise()}},text:{process:function(b){return a("<div>",{text:b})}}},functionAttributes:["beforeOpen","afterOpen","beforeContent","afterContent","beforeClose","afterClose"],readElementConfig:function(b,c){var d=this,e=new RegExp("^data-"+c+"-(.*)"),f={};return b&&b.attributes&&a.each(b.attributes,function(){var b=this.name.match(e);if(b){var c=this.value,g=a.camelCase(b[1]);if(a.inArray(g,d.functionAttributes)>=0)c=new Function(c);else try{c=a.parseJSON(c)}catch(h){}f[g]=c}}),f},extend:function(b,c){var d=function(){this.constructor=b};return d.prototype=this.prototype,b.prototype=new d,b.__super__=this.prototype,a.extend(b,this,c),b.defaults=b.prototype,b},attach:function(b,c,d){var e=this;"object"!=typeof c||c instanceof a!=!1||d||(d=c,c=void 0),d=a.extend({},d);var f,g=d.namespace||e.defaults.namespace,h=a.extend({},e.defaults,e.readElementConfig(b[0],g),d);return b.on(h.openTrigger+"."+h.namespace,h.filter,function(g){var i=a.extend({$source:b,$currentTarget:a(this)},e.readElementConfig(b[0],h.namespace),e.readElementConfig(this,h.namespace),d),j=f||a(this).data("featherlight-persisted")||new e(c,i);"shared"===j.persist?f=j:j.persist!==!1&&a(this).data("featherlight-persisted",j),i.$currentTarget.blur(),j.open(g)}),b},current:function(){var a=this.opened();return a[a.length-1]||null},opened:function(){var b=this;return d(),a.grep(c,function(a){return a instanceof b})},close:function(){var a=this.current();return a?a.close():void 0},_onReady:function(){var b=this;b.autoBind&&(b.attach(a(document),{filter:b.autoBind}),a(b.autoBind).filter("[data-featherlight-filter]").each(function(){b.attach(a(this))}))},_callbackChain:{onKeyUp:function(a,b){return 27===b.keyCode?(this.closeOnEsc&&this.$instance.find("."+this.namespace+"-close:first").click(),!1):a(b)},onResize:function(a,b){if(this.$content.naturalWidth){var c=this.$content.naturalWidth,d=this.$content.naturalHeight;this.$content.css("width","").css("height","");var e=Math.max(c/parseInt(this.$content.parent().css("width"),10),d/parseInt(this.$content.parent().css("height"),10));e>1&&this.$content.css("width",""+c/e+"px").css("height",""+d/e+"px")}return a(b)},afterContent:function(a,b){var c=a(b);return this.onResize(b),c}}}),a.featherlight=b,a.fn.featherlight=function(a,c){return b.attach(this,a,c)},a(document).ready(function(){b._onReady()})}(jQuery);
;;(function($,hotspots,undefined){"use strict";var mapSetup=function(){$('img.hotspots-image').responsilight();};var showLightbox=function(container,isSticky,info,area){var mapId,mapNo;if(isSticky){$.featherlight(info,{afterContent:function(){var content=$('.hotspot-info.featherlight-inner'),lb=$('.featherlight-content');mapId=container.attr('id');mapNo=mapId.match(/\d+/)[0];content.show();lb.addClass('lightbox-'+mapNo);var img=content.find('img'),imgHeight=img.height(),lbHeight=lb.height(),maxImgHeight=lbHeight*0.8;if(imgHeight>maxImgHeight){img.height(maxImgHeight);img.css({'width':'auto'});}},afterClose:function(){area.data('stickyCanvas',false);$('#'+mapId).find('canvas').fadeOut('slow',function(){$(this).remove();});}});}};var showTooltip=function(area,newInfo,container,tooSmall){if(tooSmall){area.qtip({content:{text:newInfo,button:true},show:{event:'stickyHighlight',modal:{on:true,blur:false}},hide:{fixed:true,delay:300,event:'unstickyHighlight unfocus'},position:{my:'center',at:'center',target:$(window),adjust:{scroll:false,mouse:false}},style:{classes:'qtip-da-custom'},events:{render:function(event,api){var tooltip=api.elements.tooltip,mapId=container.attr('id'),mapNo=mapId.match(/\d+/)[0];tooltip.addClass('tooltip-'+mapNo);},visible:function(event,api){var tooltip=api.elements.tooltip,winHeight=$(window).height(),tipHeight=tooltip.height(),img=tooltip.find('img'),imgHeight=img.height();if(tipHeight>winHeight){var textHeight=tipHeight-imgHeight;if(textHeight<winHeight){img.css({'width':'auto','maxHeight':winHeight-textHeight+'px'});api.reposition();}}},hide:function(event,api){var mapId=container.attr('id');area.data('stickyCanvas',false);$('#'+mapId).find('canvas').fadeOut('slow',function(){$(this).remove();});}}});}else{area.qtip({content:{text:newInfo,title:'&nbsp;',button:true},show:{solo:true,event:'stickyHighlight',effect:function(){$(this).fadeTo(300,1);}},hide:{fixed:true,delay:300,event:'unstickyHighlight unfocus'},position:{target:'mouse',viewport:$(window),adjust:{mouse:false,method:'shift'}},style:{classes:'qtip-da-custom'},events:{render:function(event,api){var tooltip=api.elements.tooltip,mapId=container.attr('id'),mapNo=mapId.match(/\d+/)[0];tooltip.addClass('tooltip-'+mapNo);},hide:function(event,api){var mapId=container.attr('id');area.data('stickyCanvas',false);$('#'+mapId).find('canvas').fadeOut('slow',function(){$(this).remove();});}}});}};var showUrlTooltip=function(area,container){area.qtip({position:{target:'mouse',viewport:$(window),adjust:{x:10}},style:{classes:'qtip-da-custom tip-title-only'},events:{render:function(event,api){var tooltip=api.elements.tooltip,mapId=container.attr('id'),mapNo=mapId.match(/\d+/)[0];tooltip.addClass('tooltip-'+mapNo);}}});};var showNewInfo=function(container,isSticky,info){var infoContainer=container.find('.hotspots-placeholder'),infoContent=infoContainer.find('.hotspots-content');if(infoContent.length==0){infoContainer.wrapInner('<div class="hotspots-content"></div>');infoContent=infoContainer.find('.hotspots-content');}
infoContainer.addClass('loading');infoContent.fadeOut('fast',function(){infoContent.children().hide().end().append(info);info.show();infoContainer.removeClass('loading');infoContent.fadeIn('fast');});}
var daInitialize=function(){$('.da-error').hide();$('.hotspot-info').hide();var container=$('.hotspots-container');container.each(function(){var container=$(this);container.on('touchstart click','area.url-area',function(e){e.preventDefault();var $this=$(this),href=$this.attr('href'),target=$this.attr('target');if(target=='_new'){if(null==window.open(href)){window.location.href=href;}}else if((this.host==''||this.pathname==window.location.pathname)&&this.hash!=''){window.location.href=href;}else{window.location.href=href;}});if(container.hasClass('event-hover')){container.find('area.url-area').each(function(){var $this=$(this);showUrlTooltip($this,container);});}
if(container.hasClass('layout-tooltip')){var screenWidth=$(window).width(),daWidth=container.width(),tipWidth=280*3,tooSmall=false;if((screenWidth<tipWidth)&&((daWidth/screenWidth)>0.75)){tooSmall=true;}
container.find('area.more-info-area').each(function(){var $this=$(this),newInfo=$($this.attr('href'));if(typeof jQuery.qtip==='function'){showTooltip($this,newInfo,container,tooSmall);}});}else{container.on('stickyHighlight unstickyHighlight','area.more-info-area',function(e){var $this=$(this),container=$this.parents('.hotspots-container'),isSticky=$this.data('stickyCanvas')||'',newInfo=$($this.attr('href'));if(container.hasClass('layout-lightbox')){showLightbox(container,isSticky,newInfo,$this);}else{newInfo=isSticky?$($this.attr('href')):container.find('.hotspot-initial');showNewInfo(container,isSticky,newInfo);}});}});};hotspots.init=function(){mapSetup();daInitialize();};}(jQuery,window.hotspots=window.hotspots||{}));jQuery(function(){hotspots.init();jQuery(window).on('pageloaded',function(){hotspots.init();});jQuery('.et_pb_tabs .et_pb_tabs_controls li').on('click',function(){setTimeout(function(){hotspots.init();},1000);});jQuery('.ui-tabs-anchor').on('click',function(){setTimeout(function(){hotspots.init();},750);});jQuery('.et_pb_toggle_title').on('click',function(){setTimeout(function(){hotspots.init();},1000);});jQuery(window).on('et_hashchange',function(){setTimeout(function(){hotspots.init();},1000);});});